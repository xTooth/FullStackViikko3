(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,n,t){e.exports=t(39)},18:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),u=t(11),l=t.n(u),c=(t(18),t(2)),r=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("li",null,e.value.name," ",e.value.number," ",o.a.createElement("button",{onClick:function(){e.rem(e)}},"poista")))},i=function(e){var n=e.persons.filter(function(n){return n.name.toLowerCase().includes(e.filter.toLowerCase())}).map(function(n){return o.a.createElement(r,{key:n.name,value:n,rem:e.rem})});return o.a.createElement(o.a.Fragment,null,o.a.createElement("ul",null,n))},m=function(e){return o.a.createElement("form",{onSubmit:e.addName},o.a.createElement("div",null,"nimi: ",o.a.createElement("input",{value:e.newName,onChange:e.handleNameChange}),o.a.createElement("br",null),"numero: ",o.a.createElement("input",{value:e.newNumber,onChange:e.handleNumbChange})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},s=t(3),f=t.n(s),h="http://localhost:3001/api/persons",d=function(){return f.a.get(h)},v=function(e){return f.a.post(h,e)},g=function(e,n){return f.a.put("".concat(h,"/").concat(e),n)},b=function(e){if(window.confirm("Haluatko varmasi poistaa"))return console.log(e.value.id),f.a.delete("".concat(h,"/").concat(e.value.id)).catch(function(e){return console.log("catched")})},E=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],u=n[1],l=Object(a.useState)(""),r=Object(c.a)(l,2),s=r[0],f=r[1],h=Object(a.useState)(""),E=Object(c.a)(h,2),p=E[0],w=E[1],j=Object(a.useState)(""),O=Object(c.a)(j,2),N=O[0],k=O[1],C=Object(a.useState)(null),y=Object(c.a)(C,2),S=y[0],T=y[1],L=Object(a.useState)(S),B=Object(c.a)(L,2),D=B[0],F=B[1],H=function(){d().then(function(e){console.log("data retrieved"),u(e.data)})};Object(a.useEffect)(H,[]);return o.a.createElement("div",null,o.a.createElement(function(e){var n=e.message,t=e.style;return null===n?null:o.a.createElement("div",{className:t},n)},{message:S,style:D}),o.a.createElement("h2",null,"Puhelinluettelo"),o.a.createElement("form",null,"rajaa n\xe4ytett\xe4v\xe4t: ",o.a.createElement("input",{value:N,onChange:function(e){e.preventDefault(),k(e.target.value)}})),o.a.createElement("h2",null,"Lis\xe4\xe4 uusi"),o.a.createElement(m,{addName:function(e){e.preventDefault();var n={name:s,number:p},a=t.find(function(e){return e.name===n.name});f(""),w(""),void 0!==a?window.confirm("".concat(n.name," on jo listalla, korvataanko numero uudella?"))&&g(a.id,n).then(function(e){H()}).then(function(e){F("message"),T("".concat(n.name," muutettiin")),setTimeout(function(){T(null)},5e3)}).catch(function(e){F("error"),T("".concat(n.name," on jo poistettu")),setTimeout(function(){T(null)},5e3)}).then(function(e){H()}):(f(""),w(""),v(n).then(function(e){H()}),F("message"),T("Henkil\xf6 '".concat(n.name,"' lis\xe4tty onnistuneesti")),setTimeout(function(){T(null)},5e3))},handleNameChange:function(e){f(e.target.value),console.log(e.target.value)},newName:s,handleNumbChange:function(e){w(e.target.value)},newNumber:p}),o.a.createElement("h2",null,"Numerot"),o.a.createElement(i,{filter:N,persons:t,rem:function(e){console.log(e),b(e).then(function(e){H()}).then(function(n){F("message"),T("".concat(e.value.name," poistettiin")),setTimeout(function(){T(null)},5e3)}).catch(function(n){F("error"),T("".concat(e.value.name," on jo poistettu")),setTimeout(function(){T(null)},5e3)}).then(function(e){H()})}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[12,2,1]]]);
//# sourceMappingURL=main.58b0ba1f.chunk.js.map